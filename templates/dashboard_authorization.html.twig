{# DASHBOARD AUTHORIZATION TEMPLATE #}
{% extends 'main_dashboard.html.twig' %}

{% block init %}
	var login_author_action_url = "{{ path('dashboard_login_author_action') }}";

	var alert_allow_authorization = "{{ translation.authorization.alert_allow_authorization }}";
	var alert_deny_authorization = "{{ translation.authorization.alert_deny_authorization }}";
	var error_login_author = "{{ translation.authorization.error_login_author }}";
{% endblock %}

{% block include %}
	<script type="text/javascript" src="{{ asset('javascript/common/dashboard_authorization.js') }}"></script>
{% endblock %}

{% block main %}
	<h5 class="center">{{ translation.authorization.page_title }}</h5>

	<div class="col s12 m12 l12">
		<div class="card hoverable">
			<div class="card-content">
				<span class="card-title">{{ translation.authorization.form_title }}</span>
				<p>
					<div class="input-field">
						<input type="text" id="input_author_login" />
						<label for="input_author_login">{{ translation.authorization.input_author_login }}</label>
					</div>
					<div class="input-field">
						<input type="password" id="input_author_password" />
						<label for="input_author_password">{{ translation.authorization.input_author_password }}</label>
					</div>
				</p>
			</div>
			<div class="card-action">
				<a class="clickable" id="button_login_author">{{ translation.authorization.button_login_author }}</a>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascript %}
	$('#input_author_login').trigger('focus');

	$('#button_login_author').on('click', function () {
		var form_data = serializeForm();
		loginAuthor(form_data);
		delete form_data;
	});

	$(document).keypress(function(event) {
		if(event.keyCode == 13) {
			$('#button_login_author').trigger('click');
		}
	});
{% endblock %}
